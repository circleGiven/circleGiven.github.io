<!DOCTYPE html><html lang="korean"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Spring | 컨테이너와 결합도 | Dev diary</title><link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="/css/highlights/dracula.css"><link rel="canonical" href="http://yoursite.com/2018/04/13/spring-ioc/"/>
<meta name="description" content="컨테이너스프링 프레임워크를 이해하는 데 가장 중요한 개념은 컨테이너이다.컨테이너의 개념은 스프링에서 처음 사용한 것은 아니며, 기존의 서블릿이나 EJB 기술에서 이미 사용해왔다.그리고 대부분 컨테이너는 비슷한 구조와 동작 방식을 가지고 있으므로…">
<meta name="keywords" content="Spring">
<meta property="og:type" content="article">
<meta property="og:title" content="Spring | 컨테이너와 결합도">
<meta property="og:url" content="http://yoursite.com/2018/04/13/spring-ioc/">
<meta property="og:site_name" content="Dev diary">
<meta property="og:description" content="컨테이너스프링 프레임워크를 이해하는 데 가장 중요한 개념은 컨테이너이다.컨테이너의 개념은 스프링에서 처음 사용한 것은 아니며, 기존의 서블릿이나 EJB 기술에서 이미 사용해왔다.그리고 대부분 컨테이너는 비슷한 구조와 동작 방식을 가지고 있으므로…">
<meta property="og:locale" content="korean">
<meta property="og:image" content="http://yoursite.com/images/spring.png">
<meta property="og:updated_time" content="2018-04-13T07:03:26.048Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Spring | 컨테이너와 결합도">
<meta name="twitter:description" content="컨테이너스프링 프레임워크를 이해하는 데 가장 중요한 개념은 컨테이너이다.컨테이너의 개념은 스프링에서 처음 사용한 것은 아니며, 기존의 서블릿이나 EJB 기술에서 이미 사용해왔다.그리고 대부분 컨테이너는 비슷한 구조와 동작 방식을 가지고 있으므로…">
<meta name="twitter:image" content="http://yoursite.com/images/spring.png"><meta property="article:author" content="circleGiven"><meta property="twitter:label1" content="Published at"><meta property="twitter:data1" content="2018-04-13 13:15"><meta property="twitter:label2" content="Written by"><meta property="twitter:data2" content="circleGiven"><link rel="icon" href="/images/favicon.png"><link rel="alternate" href="/atom.xml" type="application/atom+xml" title="Dev diary"></head><body itemscope itemtype="https://schema.org/WebPage"><nav class="menu" id="menu"><div class="menu-inner"><div class="menu__left-area"><div class="menu__item"><a class="menu__item__link menu__item__link--brand" href="/" title="Home" rel="home"><img class="menu__item__link--brand__image" src="/images/favicon.png" alt="Dev diary"><span class="menu__item__link--brand__label">Dev diary</span></a></div></div><div class="menu__right-area"><div class="menu__item"><a class="menu__item__link" href="/">Home</a></div><div class="menu__item"><a class="menu__item__link" href="/archives">Archives</a></div></div></div></nav><div class="page-background"></div><div class="content-container"><div class="content-outer"><div class="content-inner" itemscope itemtype="https://schema.org/Blog"><article class="article" id="article" itemscope itemtype="https://schema.org/BlogPosting"><h1 class="article__title" itemprop="headline">Spring | 컨테이너와 결합도</h1><div class="article__meta"><time class="article__meta__time" datetime="2018-04-13T04:15:22.000Z" itemprop="datePublished">2018-04-13 13:15</time><div class="article__meta__categories"><a class="article__meta__categories__item" href="/categories/Spring/">Spring</a><span class="article__meta__categories__separator">></span><a class="article__meta__categories__item" href="/categories/Spring/Basic/">Basic</a></div></div><div class="article__contents"><img src="/images/spring.png"/><h1 id="컨테이너"><a href="#컨테이너" class="headerlink" title="컨테이너"></a>컨테이너</h1><p>스프링 프레임워크를 이해하는 데 가장 중요한 개념은 <strong>컨테이너</strong>이다.<br>컨테이너의 개념은 스프링에서 처음 사용한 것은 아니며, 기존의 서블릿이나 EJB 기술에서 이미 사용해왔다.<br>그리고 대부분 컨테이너는 비슷한 구조와 동작 방식을 가지고 있으므로 서블릿 컨테이너를 통해 스프링 컨테이너의 동작 방식을 유추할 수 있다.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// HelloServlet.java</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 생성자</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">HelloServlet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"===&gt; HelloServlet 객체 생성"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">                         HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"doGet() 메서드 호출"</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- web.xml --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- hello라는 이름을 서블릿으로 등록한다 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- hello.HelloServlet 클래스는 서블릿이다 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>hello.HelloServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- hello라는 서블릿 이름을 호출한다 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- /hello.do 라는 URL 요청을 전송 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/hello.do<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>위 설정은 브라우저에서 /hello.do라는 URL 요청을 전송하면, hello라는 이름으로 등록된 hello.HelloSevlet 클래스를 찾아 객체를 생성하고 실행한다.<br>HelloServlet을 실행하면 web.xml 설정대로 객체가 생성되고 실행되는 것을 확인할 수 있다.</p>
<p>서블릿은 자바로 만들어진 클래스이다.<br>따라서 반드시 객체 생성을 해야 객체가 가지고 있는 메서드를 호출할 수 있다.<br>그런데 작성된 소스 어디를 봐도 객체를 생성하는 코드를 볼 수 없고, doGet() 메서드를 호출하는 코드를 볼 수 없다.<br>서블릿 <strong>컨테이너</strong>가 객체를 생성하고 doGet() 메서드를 호출해 준 것이다.<br><img src="/images/servlet.png" alt="서블릿"><br>위 서블릿 컨테이너는 다음 순서에 따라 동작한다</p>
<ol>
<li>WEB-INF/web.xml 파일을 로딩하여 구동</li>
<li>브라우저로부터 /hello.do 요청 수신</li>
<li>hello.HelloServlet 클래스를 찾아 객체를 생성하고 doGet() 메서드 호출</li>
<li>doGet() 메서드 실행 결과를 클라이언트 브라우저로 전송</li>
</ol>
<p>이렇듯 <strong>컨테이너</strong>는 자신이 관리할 클래스들이 등록된 XML 설정 파일을 로딩하여 구동한다.<br>그리고 클라이언트의 요청이 들어오는 순간 XML 설정 파일을 참조하여 객체를 생성하고, 객체의 생명주기를 관리한다.<br>스프링 컨테이너 역시 서블릿 컨테이너와 유사하게 동작하므로 위에서 살펴본 요소들과 비슷한 요소들이 존재한다.<br><br><br></p>
<h1 id="제어의-역행-IoC-Inversion-of-Control"><a href="#제어의-역행-IoC-Inversion-of-Control" class="headerlink" title="제어의 역행 IoC(Inversion of Control)"></a>제어의 역행 IoC(Inversion of Control)</h1><p><strong>제어의 역행(IoC)</strong>은 <strong>결합도</strong>와 관련된 개념으로 이해할 수 있다.<br>기존에 자바 기반으로 어플리케이션을 개발할 때, 객체를 생성하고 객체들 사이의 의존관계를 처리하는 것에 대한 책임은 개발자에게 있었다.<br>즉, 개발자가 어떤 객체를 생성할지 판단하고 객체 간의 의존관계 역시 소스코드로 표현해야 했다.</p>
<p>하지만 제어의 역행이라는 것은 이런 일련의 작업들을 소스코드로 처리하지 않고 <strong>컨테이너로 처리</strong>하는 것을 의미한다.<br>따라서 제어의 역행을 이용하면 소스에서 객체 생성과 의존관계에 대한 코드가 사라져 낮은 <strong>결합도</strong>의 컴포넌트를 구현할 수 있다.<br><br><br><br></p>
<h1 id="결합도-Coupling-가-높은-프로그램"><a href="#결합도-Coupling-가-높은-프로그램" class="headerlink" title="결합도(Coupling)가 높은 프로그램"></a>결합도(Coupling)가 높은 프로그램</h1><p><strong>결합도</strong>란 하나의 클래스가 다른 클래스와 얼마나 많이 연결되어 있는지를 나타내는 표현이며, 결합도가 높은 프로그램은 유지보수가 어렵다.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// SamsungTV.java</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SamsungTV</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">powerOn</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"SamsungTv---전원 on"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">powerOff</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"SamsungTv---전원 off"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">volumeUp</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"SamsungTv---소리 up"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">volumeDown</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"SamsungTv---소리 down"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// LgTV.java</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LgTV</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">turnOn</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"LgTV---전원 on"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">turnOff</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"LgTV---전원 off"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">soundUp</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"LgTV---소리 up"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">soundDown</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"LgTV---소리 down"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>SamsungTV와 LgTV 클래스가 있다.<br>두 클래스는 TV 시청에 필요한 필수 기능인 네 개의 메서드가 있다.<br>같은 기능을 수행하지만 메서드들의 이름이 서로 다르다.<br>아래는 두 클래스를 번갈아 사용하는 프로그램이다.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// TVUser.java</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TVUser</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SamsungTV tv = <span class="keyword">new</span> SamsungTV();</span><br><span class="line">        tv.powerOn();</span><br><span class="line">        tv.volumeUp();</span><br><span class="line">        tv.volumeDown();</span><br><span class="line">        tv.powerOff();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>이제 LgTV를 시청하는 프로그램으로 수정해보자<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// TVUser.java</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TVUser</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        LgTV tv = <span class="keyword">new</span> LgTV();   <span class="comment">// 변경됨</span></span><br><span class="line">        tv.turnOn();            <span class="comment">// 변경됨</span></span><br><span class="line">        tv.soundUp();           <span class="comment">// 변경됨</span></span><br><span class="line">        tv.soundDown();         <span class="comment">// 변경됨</span></span><br><span class="line">        tv.turnOff();           <span class="comment">// 변경됨</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>SamsungTV와 LgTV는 메서드 시그니처(signature)가 다르므로 TVUser 코드 대부분을 수정해야 TV를 교체할 수 있다.<br>현재 상태에서는 두 TV 클래스가 강제로 같은 메서드를 가지게하는 수단이 없다.<br>TVUser 와 같이 클라이언트 프로그램이 하나가 아닌 여러 개라면 유지보수는 더욱더 힘들어진다.<br><br><br></p>
<h2 id="다형성을-이용한-결합도-낮추기"><a href="#다형성을-이용한-결합도-낮추기" class="headerlink" title="- 다형성을 이용한 결합도 낮추기"></a>- 다형성을 이용한 결합도 낮추기</h2><p>결합도를 낮추기 위해서 다양한 방법이 있지만, 가장 쉽게 생각할 수 있는것이 객체지향 언어의 핵심 개념인 <strong>다형성(polymorphism)</strong>을 이용하는 것이다.<br>앞에서 작성한 프로그램을 다형성을 이용하여 수정하자.<br>다형성을 이용하려면 <strong>상속</strong>과 <strong>메서드 재정의(Overriding)</strong>, 그리고 <strong>형변환</strong>이 필요하며, 자바같은 객체지향 언어는 이를 문법으로 지원한다.<br><img src="/images/다형성.png" alt="다형성"><br>TV 클래스들의 최상위 부모로 사용할 TV 인터페이스를 추가하고, 모든 TV가 공통으로 가져야할 메서드들을 <strong>추상 메서드</strong>로 선언한다.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// TV.java</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">TV</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">powerOn</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">powerOff</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">volumeUp</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">volumeDown</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><br><br>SamsungTV와 LgTV 클래스를 수정하여 TV 인터페이스를 구현한다.<br>이렇게 하면 TV 인터페이스에 선언된 추상 메서드들을 모두 재정의해야만 한다.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// SamsungTV.java</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SamsungTV</span> <span class="keyword">implements</span> <span class="title">TV</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">powerOn</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"SamsungTV---전원 on"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">powerOff</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"SamsungTV---전원 off"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">volumeUp</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"SamsungTV---소리 up"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">volumeDown</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"SamsungTV---소리 down"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// LgTV.java</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LgTV</span> <span class="keyword">implements</span> <span class="title">TV</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">powerOn</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"LgTV---전원 on"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">powerOff</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"LgTV---전원 off"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">volumeUp</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"LgTV---소리 up"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">volumeDown</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"LgTV---소리 down"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><br><br>인터페이스를 이용하여 모든 TV 클래스가 강제로 같은 메서드들을 가질수 있도록 하였다.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// TVUser.java</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TVUser</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        TV tv = <span class="keyword">new</span> SamsungTV();</span><br><span class="line">        tv.powerOn();</span><br><span class="line">        tv.volumeUp();</span><br><span class="line">        tv.volumeDown();</span><br><span class="line">        tv.powerOff();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>TVUser 클래스는 TV 인터페이스 타입의 변수로 SamsungTV 객체를 참조하고 있다.<br>이렇게 묵시적 <strong>형변환(promotion)</strong>을 이용하여 객체를 참조하면 SamsungTV를 LgTV 객체로 변경할 때,<br>참조하는 객체만 변경하면 되므로 쉽게 교체할 수 있다.<br>이렇게 <strong>다형성</strong>을 이용하면 같은 클라이언트 프로그램이 여러 개 있더라도 최소한의 수정으로 TV를 교체할 수 있다.<br><br><br></p>
<h2 id="디자인-패턴을-이용한-결합도-낮추기"><a href="#디자인-패턴을-이용한-결합도-낮추기" class="headerlink" title="- 디자인 패턴을 이용한 결합도 낮추기"></a>- 디자인 패턴을 이용한 결합도 낮추기</h2><p>결합도를 낮추기 위한 또 다른 방법으로 <strong>디자인 패턴</strong>이 있다.<br>위에서 본 다형성을 이용하는 방법은 메서드를 호출할 때 인터페이스를 이용함으로써 좀 더 쉽게 TV를 교체할 수 있었다.<br>하지만 이 방법 역시 TV를 변경하고자 할 때, TV 클래스 객체를 생성하는 소스를 직접 수정해야만 한다.</p>
<p>TV를 교체할 때, 클라이언트 소스를 수정하지 않고 TV를 교체할 수만 있다면 유지보수는 더욱 편리해진다.<br>이를 위해 Factory 패턴을 적용해야 하는데, Factory 패턴은 클라이언트에서 사용할 객체 생성을 <strong>캡슐화</strong>하여 TVUser와 TV 사이를 느슨한 결합 상태로 만들어준다.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// BeanFactory.java</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BeanFactory</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">getBean</span><span class="params">(String beanName)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(beanName.equals(<span class="string">"samsung"</span>)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> SamsungTV();</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(beanName.equals(<span class="string">"lg"</span>)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> LgTV();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>BeanFactory 클래스의 getBean() 메서드는 매개변수로 받은 beanName에 해당하는 객체를 생성하여 반환한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TVUser</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        BeanFactory factory = <span class="keyword">new</span> BeanFactory();</span><br><span class="line">        TV tv = (TV)factory.getBean(args[<span class="number">0</span>]);</span><br><span class="line">        tv.powerOn();</span><br><span class="line">        tv.volumeUp();</span><br><span class="line">        tv.volumeDown();</span><br><span class="line">        tv.powerOff();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>실행되는 TV를 변경하고 싶을 때는 명령행 매개변수만 수정하여 실행한다.<br>즉 클라이언트 소스를 직접 수정하지 않고도 실행되는 객체를 변경할 수 있다.<br><img src="/images/factory패턴.png" alt="factory패턴"><br>이런 결과를 얻을 수 있었던 것은 TV 객체를 생성하여 반환하는 BeanFactory 때문이다.<br>클라이언트에 해당하는 TVUser는 자신이 필요한 객체를 직접 생성하지 않는다.<br>TVUser는 단지 객체가 필요하다는 것을 BeanFactory에 요청했을 뿐이고, BeanFactory는 클라이언트가 사용할 TV 객체를 적절하게 생성하여 넘겨준 것이다.</p>
</div><div class="article__tags"><a class="article__tags__item" href="/tags/Spring/">Spring</a></div><div class="article__author" itemscope itemprop="author" itemtype="https://schema.org/Person"><img class="article__author__image" src="/images/profile.jpeg" alt="circleGiven"><a class="article__author__link" title="About circleGiven" rel="author">circleGiven</a><p class="article__author__desc">아직 배울게 너무 많은 '초보 개발자'</p><div class="article__author__socials"><a class="article__author__socials__item" href="https://github.com/circleGiven" title="github" target="_blank"><i class="fa fa-github"></i></a><a class="article__author__socials__item" href="https://www.linkedin.com/in/wonjune/" title="linkedin" target="_blank"><i class="fa fa-linkedin"></i></a><a class="article__author__socials__item" href="/atom.xml" title="rss" target="_blank"><i class="fa fa-rss"></i></a></div><meta itemprop="name" content="circleGiven"></div><div class="sharer" id="sharer"><div class="sharer-inner"><div class="sharer__right"><button class="sharer__item" id="sharer-facebook"><i class="fa fa-facebook-official"></i></button><button class="sharer__item" id="sharer-twitter"><i class="fa fa-twitter"></i></button><button class="sharer__item" id="sharer-pinterest"><i class="fa fa-pinterest"></i></button><button class="sharer__item" id="sharer-pocket"><i class="fa fa-get-pocket"></i></button></div></div></div><!-- Disqus Code--><div id="disqus_thread"></div><script>(function() {
  var d = document, s = d.createElement('script');
  s.src = '//circleGiven.disqus.com/embed.js';
  s.setAttribute('data-timestamp', +new Date());
  (d.head || d.body).appendChild(s);
})();</script><noscript>Enable JavaScript to see comments.</noscript><!-- Meta Tags for Structured Data--><meta itemprop="dateModified" content="2018-04-13T07:03:26.048Z"><meta itemprop="articleBody" content="컨테이너스프링 프레임워크를 이해하는 데 가장 중요한 개념은 컨테이너이다.컨테이너의 개념은 스프링에서 처음 사용한 것은 아니며, 기존의 서블릿이나 EJB 기술에서 이미 사용해왔다.그리고 대부분 컨테이너는 비슷한 구조와 동작 방식을 가지고 있으므로 서블릿 컨테이너를 통해 스프링 컨테이너의 동작 방식을 유추할 수 있다.12345678910111213//..."><meta itemprop="url" content="http://yoursite.com/2018/04/13/spring-ioc/"><meta itemprop="mainEntityOfPage" content="http://yoursite.com/2018/04/13/spring-ioc/"><div itemscope itemtype="https://schema.org/Organization" itemprop="publisher"><meta itemprop="name" content="Dev diary"><div itemscope itemprop="logo" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="http://yoursite.com/images/favicon.png"></div></div><div itemscope itemtype="https://schema.org/ImageObject" itemprop="image"><meta itemprop="contentUrl" content="http://yoursite.com/images/spring.png"><meta itemprop="url" content="http://yoursite.com/images/spring.png"><meta itemprop="width"><meta itemprop="height"></div></article><section class="related-posts"><h3>Related posts</h3><div class="related-posts__item__wrapper"><a class="related-posts__item" href="/2018/04/04/spring-framework/"><div class="related-posts__item__background" style="background-image:url('/images/spring.png');"></div><div class="related-posts__item__overlay"></div><span class="related-posts__item__title">Spring | 스프링 프레임워크란?</span></a></div><div class="related-posts__item__wrapper"><a class="related-posts__item" href="/2018/09/28/annotation-deprecated/"><div class="related-posts__item__background" style="background-image:url('/images/spring.png');"></div><div class="related-posts__item__overlay"></div><span class="related-posts__item__title">Annotation | @Deprecated</span></a></div></section></div></div></div><footer id="footer"><div class="widgets"><div class="widgets-inner"><!-- Jade doesn't support dynamic inclusion with `each`.--><!-- So, I just hard coded the file names that will be included.--><div class="widgets__item"><h3 class="widgets__item__heading">Recent posts</h3><ul class="recent-posts"><li class="recent-posts__item"><a href="/2018/09/28/annotation-jsonignore/">annotation-jsonignore</a></li><li class="recent-posts__item"><a href="/2018/09/28/annotation-deprecated/">Annotation | @Deprecated</a></li><li class="recent-posts__item"><a href="/2018/09/27/book-passionate-part4/">프로그래머, 마케팅</a></li><li class="recent-posts__item"><a href="/2018/07/28/book-passionate-part3/">프로그래머, 실행</a></li><li class="recent-posts__item"><a href="/2018/07/21/book-passionate-part2/">프로그래머, 자신에게 투자하라</a></li></ul></div><div class="widgets__item"><h3 class="widgets__item__heading">Archives</h3><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a><span class="archive-list-count">9</span></li></ul></div><div class="widgets__item"><h3 class="widgets__item__heading">Categories</h3><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Ajax/">Ajax</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Book/">Book</a><span class="category-list-count">5</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Book/The-Passionate-Programmer/">The Passionate Programmer</a><span class="category-list-count">4</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Git/">Git</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JHipster/">JHipster</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Javascript/">Javascript</a><span class="category-list-count">13</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Javascript/Basic/">Basic</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Javascript/Typescript/">Typescript</a><span class="category-list-count">3</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Program/">Program</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Program/SICP/">SICP</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Programming/">Programming</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Programming/Story/">Story</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Server/">Server</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Speech/">Speech</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/">Spring</a><span class="category-list-count">3</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Annotation/">Annotation</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Basic/">Basic</a><span class="category-list-count">2</span></li></ul></li></ul></div></div></div><p class="copyright"><small>© 2018 circleGiven<br>Powered by <a href="https://hexo.io" rel="external" target="_blank">Hexo</a>, Theme by <a href="https://github.com/hyunseob" rel="external" target="_blank">HyunSeob</a></small></p></footer><script src="/js/sharer.min.js"></script></body></html>